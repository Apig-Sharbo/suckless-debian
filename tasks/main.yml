---
# tasks file for notejam-django-installation

# - name: Wait for any possibly running unattended upgrade to finish
#   raw: systemd-run --property="After=apt-daily.service apt-daily-upgrade.service" --wait /bin/true

# - name: Manually update packages list (problem with update_cache)
#   command: echo hello
#   become: yes

- name: Update apt-get repo and cache
  apt:
    update_cache=yes
    force_apt_get=yes
    cache_valid_time=0
  become: true

- name: "Install deps"
  apt:
    name:
      - xorg
      - pulseaudio
      - pulsemixer
      - cmake
      - htop
      - xinit
      - flatpak
      - qbittorrent
      - git
      - mpv
      - sxiv
      - pcmanfm
      - ffmpegthumbnailer
      - chromium
      - curl
      - x11-xserver-utils
      - fonts-noto-mono
      - fonts-symbola
      - linux-headers-generic
      - build-essential
      - dkms
      - xclip
      - neovim
      - open-vm-tools-desktop
      - libxrender-dev
      - automake
      - xutils-dev
      - libfontconfig-dev
      - libfreetype6-dev
      - libtool-bin
      - libtool
      - x11proto-dev
      - libx11-dev
      - libxinerama-dev
    update_cache: yes
    state: present
  become: true


# - name: "Clone repo"
#   git:
#     repo: https://github.com/komarserjio/notejam.git
#     dest: notejam
#     accept_hostkey: yes
#     force: yes
